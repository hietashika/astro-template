---
/**
 * GridStackコンポーネント
 * グリッドレイアウトを作成するためのコンポーネント
 */

import BaseElement from "./base/BaseElement.astro";

interface Props {
	class?: string;
	gap?: string;
	vertical?: boolean;
	horizontal?: boolean;
	[key: string]: any;
}

const {
	class: className,
	gap,
	vertical,
	horizontal,
	...rest
} = Astro.props as Props;

const baseProps = {
	componentClass: "grid-stack",
	class: [
		className,
		gap ? "grid-stack--gap" : "",
		horizontal ? "grid-stack--horizontal" : "grid-stack--vertical",
	]
		.filter(Boolean)
		.join(" "),
	...rest,
};
---

<BaseElement {...baseProps}>
  <slot />
</BaseElement>

<style lang="scss">
  @use "../../styles/tools/mixin" as mix;
  
  @include mix.element-base("grid-stack") {
    display: grid;
    gap: var(--grid-stack-gap, var(--space-m));

    @include mix.spacing-classes("--grid-stack-gap", "gap");

    &--vertical {
      align-content: start;
    }

    &--horizontal {
      grid-auto-flow: column;
      justify-content: start;
    }
  }
</style>